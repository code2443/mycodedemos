var Slider=function(){var a=this;a.count=0,a.index=0,a.images=[],a.time=3e3,a.width=1e3,a.minwidth=206,a.list=null,a.thumblist=null,a.timer=null,a.open_newtab=!0,a.mouse_hover=!1,a.next=function(){var b=a.index+1;b>=a.count&&(b=0),a.index=b,a.setIndex()},a.pre=function(){var b=a.index-1;0>b&&(b=a.count-1),a.index=b,a.setIndex()},a.setIndex=function(b){0==b||b?a.index=b:b=a.index;var c=-1*b*a.width;a.stopauto(),a.list.stop().animate({left:c},1e3,"easeInOutQuart",a.startauto),a.set_current()},a.stopauto=function(){clearTimeout(a.timer)},a.startauto=function(){a.stopauto(),a.mouse_hover||(a.timer=setTimeout(a.next,a.time))},a.uie=function(a){return jQuery("<"+a+"></"+a+">")},a.add=function(b){a.add_imgdiv(b.img,b.link),a.add_thumbdiv(b.thumb),a.count++},a.bindevent=function(){jQuery(".slider .btn_pre").bind("click",function(){a.pre()}),jQuery(".slider .btn_next").bind("click",function(){a.next()}),jQuery(".slider .frame").bind("mouseenter",function(){a.mouse_hover=!0,a.stopauto()}),jQuery(".slider .frame").bind("mouseleave",function(){a.mouse_hover=!1,a.startauto()})},a.bindthumbevent=function(b){b.bind("click",function(){a.setIndex(jQuery(this).data("index"))})},a.add_imgdiv=function(b,c){var d=a.uie("a");d.attr("href",c),a.open_newtab&&d.attr("target","_blank");var e=a.uie("div");d.append(e);var f=new Image;e.append(f),f.src=b,a.list.append(d)},a.add_thumbdiv=function(b){var c=a.uie("div");c.attr("data-index",a.count),c.css({background:"url("+b+")",backgroundSize:"cover"}),a.thumblist.append(c),a.bindthumbevent(c)},a.set_current=function(){jQuery(".slider .mini .list>div").removeClass("current"),jQuery('.slider .mini .list>div[data-index="'+a.index+'"]').addClass("current")},a.setThumbDivWidth=function(){jQuery(".slider .mini").width(a.count*a.minwidth)},a.init=function(){a.list=jQuery(".slider .frame .list"),a.thumblist=jQuery(".slider .mini .list"),a.bindevent(),jQuery.each(a.list.find("a"),function(b,c){a.images.push({thumb:c.dataset.thumb,img:c.dataset.img,link:c.href})});for(var b=0;b<a.images.length;b++){var c=a.images[b];a.add(c)}a.setThumbDivWidth(),a.set_current()}},Tabs=function(){var a=this;a.change_tab=function(a){jQuery(".content .tabs .tabs_item a,.content .tabs .tabs_content .tab_item").removeClass("current"),jQuery('.content .tabs .tabs_item a[data-tab="'+a+'"]').addClass("current"),jQuery(".content .tabs .tabs_content .tab_item."+a).addClass("current")},a.init=function(){var b=jQuery(".content .tabs .tabs_item a");b.bind("click",function(){var b=jQuery(this),c=b.data("tab");return a.change_tab(c),!1})}},Comic_Items=function(){var a=this;a.config={item_min_width:220,item_max_width:300,item_max_count:10,item_min_count:3},a.item_now_count=4,a.resize_img=function(){var a=jQuery(".comics .cover").parent().width(),b=a+100;jQuery(".comics .cover").parent(),jQuery(".comics .cover").width(a),jQuery(".comics .cover").height(a),jQuery(".comics li > a").height(b)},a.checkItemWidth=function(b){return b>=a.config.item_min_width&&b<=a.config.item_max_width},a.getRowItemCount=function(b){var c=function(a){return a+1},d=function(b){return b<=a.config.item_max_count&&b>=a.config.item_min_count};b||(c=function(a){return a-1});var e=jQuery(".tabs_content").width(),f=a.item_now_count,g=0;do if(f=c(f),g=100/f-1,temp_w=parseFloat(e)*parseFloat(g/100),console.log({item_w:g,temp_w:temp_w,count:f}),a.checkItemWidth(temp_w))break;while(d(f));a.item_now_count=f,jQuery(".comics li").width(g+"%")},a.resize_item=function(){var b=jQuery(".comics li").width();b>a.config.item_max_width?a.getRowItemCount(!0):b<a.config.item_min_width&&a.getRowItemCount(!1)},a.resize_all=function(){a.resize_item(),a.resize_img()},jQuery(window).bind("resize",a.resize_all),a.resize_all()},ScrollTop=function(){var a=this;a.config={top:800,showopacity:1,scrolltime:800},a.btn_to_top=null,a.is_show_btn=!1,a.scrolltop=function(){jQuery("body,html").animate({scrollTop:0},a.config.scrolltime)},a.checkShowButton=function(){var b=jQuery(window).scrollTop();/MSIE /i.test(navigator.userAgent)&&(b=document.documentElement.scrollTop),b>a.config.top?a.showButton():a.hideButton()},a.showButton=function(){a.is_show_btn||(a.is_show_btn=!0,a.btn_to_top.stop().animate({opacity:a.config.showopacity},400))},a.hideButton=function(){a.is_show_btn&&(a.is_show_btn=!1,a.btn_to_top.stop().animate({opacity:0},400))},a.bindevent=function(){a.btn_to_top.bind("click",a.scrolltop),jQuery(window).bind("scroll",a.checkShowButton)},a.init=function(b){a.btn_to_top=b,a.bindevent()}},slider=null,tabs=null,comic_items=null,scrolltop=null;jQuery(document).ready(function(){slider=new Slider,tabs=new Tabs,comic_items=new Comic_Items,scrolltop=new ScrollTop,slider.init(),slider.startauto(),tabs.init(),scrolltop.init(jQuery("#btn_to_top")),jQuery(".comics img.lazyload").lazyload({effect:"fadeIn"}),jQuery(".tops_list img.lazyload").lazyload({effect:"fadeIn"})});